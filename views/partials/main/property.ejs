<!DOCTYPE html>
<div id="property">
	<h2>Property</h2>
	<p>Unauthenticated routes to retrieve multiple properties, detailed properties, etc.</p>

	<div class="mt-3">
		<h4 id="property-home">Fetch properties for landing page</h4>
		<p>Returns 8 (max) properties with prices converted to site currency (EUR).</p>
		<div class="card">
			<p class="card-header no-anchor"><span class="get">GET</span> /property/home</p>
			<div class="card-body"></div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>[
    {
        "id": 1,
        "title": "Sea Voyager Villa",
        "geo": {
            "x": 40.62617383681707,
            "y": 14.498273742410621
        },
        "city": "Arienzo",
        "country": "IT",
        "rating": 5,
        "reviews_no": 1,
        "images_url_array": [
            "7cda38e2-1755945364513.jpg",
            "e3966213-1755945364898.jpg",
            "1d674704-1755945365041.jpg",
            "38f3d38c-1755945365202.jpg",
            "795b74b9-1755945365356.jpg"
        ],
        "price_night_local": "80.00",
        "local_currency": "EUR",
        "price_night_site": "80.00"
    },
    ...
]</code></pre>
			</div>
		</div>
	</div>

	<hr />

	<div class="mt-3">
		<h4 id="property-id">Fetch property by id</h4>
		<p>Fetches all data available about property.</p>
		<div class="card">
			<p class="card-header no-anchor"><span class="get">GET</span> /property/id/1</p>
			<div class="card-body"></div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>{
	"id": 47,
	"title": "The Great White Whale",
	"geo": {
		"x": 65.68361227990968,
		"y": -18.09346204916715
	},
	"city": "Akureyri",
	"country": "IS",
	"is_listed": true,
	"street": "Hafnarstr√¶ti",
	"street_no": "87",
	"description": "Soundproof rooms in the bay overlooking the ocean.",
	"guests": 2,
	"beds": 1,
	...
}</code></pre>
			</div>
		</div>
	</div>

	<hr />

	<div class="mt-3">
		<h4 id="property-booked">Fetch booked dates for year and month given property id</h4>
		<p>Fetches an array of pairs representing check-in and check-out for a given property id, month and year.</p>
		<div class="card">
			<p class="card-header no-anchor"><span class="get">GET</span> /property/booked?id=1&date=2025-08-01</p>
			<div class="card-body"></div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>[
	{
		"check_in": "2025-09-18T21:00:00.000Z",
		"check_out": "2025-09-19T21:00:00.000Z"
	},
	...
]</code></pre>
			</div>
		</div>
	</div>

	<hr />

	<div class="mt-3">
		<h4 id="property-availability">Check availability of a property given check-in and check-out</h4>
		<div class="card">
			<p class="card-header no-anchor"><span class="get">GET</span> /property/availability?id=1&check_in=2025-08-01&check_out=2025-08-05</p>
			<div class="card-body"></div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>{
	"available": false
}</code></pre>
			</div>
		</div>
	</div>

	<hr />

	<div class="mt-3">
		<h4 id="property-reviews">Fetch all reviews for property with id</h4>
		<div class="card">
			<p class="card-header no-anchor"><span class="get">GET</span> /property/reviews/1</p>
			<div class="card-body"></div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>[
	{
		"property_id": 1,
		"user_id": 1,
		"title": "Great stay! Will be back next year Edit 2",
		"body": "Staying at the Sea Voyager villa was a great experience for us. Edit 2",
		"rating": 5,
		"created_at": "2025-07-21T21:00:00.000Z",
		"id": 8,
		"booking_id": 19
	}
]</code></pre>
			</div>
		</div>
	</div>

	<hr />

	<div class="mt-3">
		<h4 id="property-query">Fetch all properties that match criteria</h4>
		<div class="card">
			<p class="card-header no-anchor"><span class="post">POST</span> /property/query</p>
			<div class="card-body">
				<pre><code>{
	"country": "IS",
	"city": "",
	"check_in": "2025-09-26",
	"check_out": "2025-09-28",
	"guests": 1,
	"property_type": null,
	"rental_type": null,
	"beds": null,
	"bedrooms": null,
	"bathrooms": null,
	"features": null,
	"experiences": null,
	"distance": null
}</code></pre>
			</div>
		</div>

		<div class="card mt-2">
			<p class="card-header no-anchor">Response</p>
			<div class="card-body">
				<pre><code>[
	{
		"property_id": 1,
		"user_id": 1,
		"title": "Great stay! Will be back next year Edit 2",
		"body": "Staying at the Sea Voyager villa was a great experience for us. Edit 2",
		"rating": 5,
		"created_at": "2025-07-21T21:00:00.000Z",
		"id": 8,
		"booking_id": 19
	}
]</code></pre>
			</div>
		</div>
	</div>
</div>
